<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <title>Event Listener</title>

    <style>
        body {
            max-width: 400px;
        }

        #url {
            width: 190px;
        }

        span,
        #url {
            color: blue;
        }
    </style>
</head>

<body>

    <pre><h2>Battery Status</h2></pre>
    <p>
        <span id="charge"></span>

    </p>

    <pre><h2>Charging Level Status</h2></pre>
    <p>
        <span id="levelStatus"></span>

    </p>
    <pre><h2>Online Status</h2></pre>
    <p>
        <span id="onlineStatus"></span>
        
    </p>

    <pre><h2>Pressed Key</h2></pre>
    <p>
        <span id="pressedKey"></span>

    </p>

    <b><h2>Sample code</h2></b>
    <pre id="sample">This text is not shown. Why?</pre>

    <hr />

    <script>
        var sampleCode = document.getElementById("sampleCode")

        function init() {


            navigator.getBattery().then(b => {
                charge.innerText = (b.charging ? "Charging" : "Discharging")
                b.onchargingchange = function () {
                    charge.innerText = (b.charging ? "Charging" : "Discharging")
                    console.log(b.charging)
                }
            }
            )
            navigator.getBattery().then(b => {
                document.getElementById("levelStatus").innerText = b.level * 100 + "%"
                console.log(b)
            })

            onlineStatus.innerText = +navigator.onLine;

            ononline = (e) => onlineStatus.innerText = navigator.onLine
            onoffline = (e) => onlineStatus.innerText = navigator.onLine
            onkeydown = (e) => document.getElementById("pressedKey").innerText = e.key
        }

        init()

        sample.innerText = init
    </script>

</body>

</html>
